#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""Quick script to add all translations to .po files"""

from pathlib import Path

# Translations dictionary
translations = {
    'es': {  # Spanish
        "TERMINAL OUTPUT": "SALIDA DE TERMINAL",
        "[Scrolled up {}]": "[Desplazado {} arriba]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: Desplazar  [\\]: Abajo",
        "({} more above)": "({} más arriba)",
        "SCANNER CONTROLS": "CONTROLES DEL ESCÁNER",
        "[B] Hide": "[B] Ocultar",
        "Angle: {:.1f}deg": "Ángulo: {:.1f}°",
        "Session: {}": "Sesión: {}",
        "Step: {:.1f}deg": "Paso: {:.1f}°",
        "Points: {}": "Puntos: {}",
        "Mode: {}": "Modo: {}",
        "ROTATION:": "ROTACIÓN:",
        "[SPACE] Capture point(s)": "[ESPACIO] Capturar punto(s)",
        "[R] Rotate +{:.1f}deg": "[R] Rotar +{:.1f}°",
        "[T] Set angle manually": "[T] Establecer ángulo manualmente",
        "[E] Change step size": "[E] Cambiar tamaño de paso",
        "MODES:": "MODOS:",
        "[1] Laser detection": "[1] Detección láser",
        "[2] Curve tracing": "[2] Trazado de curvas",
        "[3] Corner detection": "[3] Detección de esquinas",
        "[4] AI Depth (MiDaS)": "[4] Profundidad IA (MiDaS)",
        "UTILITIES:": "UTILIDADES:",
        "[V] Cartoon mode": "[V] Modo dibujo",
        "[D] Debug view": "[D] Vista de depuración",
        "[C] Clear points": "[C] Limpiar puntos",
        "[O] 3D Viewer": "[O] Visor 3D",
        "[F] Process photos": "[F] Procesar fotos",
        "[T] Toggle capture mode": "[T] Alternar modo captura",
        "[S] Save cloud": "[S] Guardar nube",
        "[M] Mesh method": "[M] Método de malla",
        "[I] Toggle AI panel": "[I] Alternar panel IA",
        "[H] Hide terminal": "[H] Ocultar terminal",
        "[[ / ]] Scroll terminal": "[[ / ]] Desplazar terminal",
        "[Q] Quit": "[Q] Salir",
        "[+/-] Curve sampling": "[+/-] Muestreo de curvas",
        "[{/}] Corner count": "[{/}] Conteo de esquinas",
        "[</>] Edge threshold": "[</>] Umbral de bordes",
        "Curve: 1/{}": "Curva: 1/{}",
        "Corners: {}": "Esquinas: {}",
        "Edges: {}/{}": "Bordes: {}/{}",
        "CURVE MODE:": "MODO CURVA:",
        "Curves: {}": "Curvas: {}",
        "Curve pts: {}": "Puntos curva: {}",
        "No curves detected": "No se detectaron curvas",
        "Camera Info": "Info de Cámara",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "Res: {}",
        "Focal: {}": "Focal: {}",
        "Sharp: {:.2f}": "Nitidez: {:.2f}",
        "Bright: {:.2f}": "Brillo: {:.2f}",
        "Status: {}": "Estado: {}",
        "Analyzing...": "Analizando...",
        "Press 'i' to hide": "Presiona 'i' para ocultar"
    },
    'fr': {  # French
        "TERMINAL OUTPUT": "SORTIE TERMINAL",
        "[Scrolled up {}]": "[Défilé de {}]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: Défiler  [\\]: Bas",
        "({} more above)": "({} de plus au-dessus)",
        "SCANNER CONTROLS": "CONTRÔLES DU SCANNER",
        "[B] Hide": "[B] Masquer",
        "Angle: {:.1f}deg": "Angle: {:.1f}°",
        "Session: {}": "Session: {}",
        "Step: {:.1f}deg": "Pas: {:.1f}°",
        "Points: {}": "Points: {}",
        "Mode: {}": "Mode: {}",
        "ROTATION:": "ROTATION:",
        "[SPACE] Capture point(s)": "[ESPACE] Capturer point(s)",
        "[R] Rotate +{:.1f}deg": "[R] Pivoter +{:.1f}°",
        "[T] Set angle manually": "[T] Définir l'angle manuellement",
        "[E] Change step size": "[E] Changer la taille du pas",
        "MODES:": "MODES:",
        "[1] Laser detection": "[1] Détection laser",
        "[2] Curve tracing": "[2] Traçage de courbes",
        "[3] Corner detection": "[3] Détection des coins",
        "[4] AI Depth (MiDaS)": "[4] Profondeur IA (MiDaS)",
        "UTILITIES:": "UTILITAIRES:",
        "[V] Cartoon mode": "[V] Mode dessin animé",
        "[D] Debug view": "[D] Vue de débogage",
        "[C] Clear points": "[C] Effacer les points",
        "[O] 3D Viewer": "[O] Visionneuse 3D",
        "[F] Process photos": "[F] Traiter les photos",
        "[T] Toggle capture mode": "[T] Basculer mode capture",
        "[S] Save cloud": "[S] Enregistrer le nuage",
        "[M] Mesh method": "[M] Méthode de maillage",
        "[I] Toggle AI panel": "[I] Basculer panneau IA",
        "[H] Hide terminal": "[H] Masquer le terminal",
        "[[ / ]] Scroll terminal": "[[ / ]] Défiler le terminal",
        "[Q] Quit": "[Q] Quitter",
        "[+/-] Curve sampling": "[+/-] Échantillonnage de courbes",
        "[{/}] Corner count": "[{/}] Nombre de coins",
        "[</>] Edge threshold": "[</>] Seuil de contour",
        "Curve: 1/{}": "Courbe: 1/{}",
        "Corners: {}": "Coins: {}",
        "Edges: {}/{}": "Contours: {}/{}",
        "CURVE MODE:": "MODE COURBE:",
        "Curves: {}": "Courbes: {}",
        "Curve pts: {}": "Pts courbe: {}",
        "No curves detected": "Aucune courbe détectée",
        "Camera Info": "Info Caméra",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "Rés: {}",
        "Focal: {}": "Focal: {}",
        "Sharp: {:.2f}": "Netteté: {:.2f}",
        "Bright: {:.2f}": "Luminosité: {:.2f}",
        "Status: {}": "Statut: {}",
        "Analyzing...": "Analyse en cours...",
        "Press 'i' to hide": "Appuyez sur 'i' pour masquer"
    },
    'pt': {  # Portuguese
        "TERMINAL OUTPUT": "SAÍDA DO TERMINAL",
        "[Scrolled up {}]": "[Rolado {} acima]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: Rolar  [\\]: Fim",
        "({} more above)": "({} mais acima)",
        "SCANNER CONTROLS": "CONTROLES DO SCANNER",
        "[B] Hide": "[B] Ocultar",
        "Angle: {:.1f}deg": "Ângulo: {:.1f}°",
        "Session: {}": "Sessão: {}",
        "Step: {:.1f}deg": "Passo: {:.1f}°",
        "Points: {}": "Pontos: {}",
        "Mode: {}": "Modo: {}",
        "ROTATION:": "ROTAÇÃO:",
        "[SPACE] Capture point(s)": "[ESPAÇO] Capturar ponto(s)",
        "[R] Rotate +{:.1f}deg": "[R] Girar +{:.1f}°",
        "[T] Set angle manually": "[T] Definir ângulo manualmente",
        "[E] Change step size": "[E] Alterar tamanho do passo",
        "MODES:": "MODOS:",
        "[1] Laser detection": "[1] Detecção a laser",
        "[2] Curve tracing": "[2] Rastreamento de curvas",
        "[3] Corner detection": "[3] Detecção de cantos",
        "[4] AI Depth (MiDaS)": "[4] Profundidade IA (MiDaS)",
        "UTILITIES:": "UTILITÁRIOS:",
        "[V] Cartoon mode": "[V] Modo desenho",
        "[D] Debug view": "[D] Visualização de depuração",
        "[C] Clear points": "[C] Limpar pontos",
        "[O] 3D Viewer": "[O] Visualizador 3D",
        "[F] Process photos": "[F] Processar fotos",
        "[T] Toggle capture mode": "[T] Alternar modo de captura",
        "[S] Save cloud": "[S] Salvar nuvem",
        "[M] Mesh method": "[M] Método de malha",
        "[I] Toggle AI panel": "[I] Alternar painel IA",
        "[H] Hide terminal": "[H] Ocultar terminal",
        "[[ / ]] Scroll terminal": "[[ / ]] Rolar terminal",
        "[Q] Quit": "[Q] Sair",
        "[+/-] Curve sampling": "[+/-] Amostragem de curvas",
        "[{/}] Corner count": "[{/}] Contagem de cantos",
        "[</>] Edge threshold": "[</>] Limiar de bordas",
        "Curve: 1/{}": "Curva: 1/{}",
        "Corners: {}": "Cantos: {}",
        "Edges: {}/{}": "Bordas: {}/{}",
        "CURVE MODE:": "MODO CURVA:",
        "Curves: {}": "Curvas: {}",
        "Curve pts: {}": "Pts curva: {}",
        "No curves detected": "Nenhuma curva detectada",
        "Camera Info": "Info da Câmera",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "Res: {}",
        "Focal: {}": "Focal: {}",
        "Sharp: {:.2f}": "Nitidez: {:.2f}",
        "Bright: {:.2f}": "Brilho: {:.2f}",
        "Status: {}": "Status: {}",
        "Analyzing...": "Analisando...",
        "Press 'i' to hide": "Pressione 'i' para ocultar"
    },
    'de': {  # German
        "TERMINAL OUTPUT": "TERMINAL-AUSGABE",
        "[Scrolled up {}]": "[{} nach oben gescrollt]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: Scrollen  [\\]: Ende",
        "({} more above)": "({} weitere oben)",
        "SCANNER CONTROLS": "SCANNER-STEUERUNG",
        "[B] Hide": "[B] Ausblenden",
        "Angle: {:.1f}deg": "Winkel: {:.1f}°",
        "Session: {}": "Sitzung: {}",
        "Step: {:.1f}deg": "Schritt: {:.1f}°",
        "Points: {}": "Punkte: {}",
        "Mode: {}": "Modus: {}",
        "ROTATION:": "ROTATION:",
        "[SPACE] Capture point(s)": "[LEERTASTE] Punkt(e) erfassen",
        "[R] Rotate +{:.1f}deg": "[R] Drehen +{:.1f}°",
        "[T] Set angle manually": "[T] Winkel manuell einstellen",
        "[E] Change step size": "[E] Schrittgröße ändern",
        "MODES:": "MODI:",
        "[1] Laser detection": "[1] Lasererkennung",
        "[2] Curve tracing": "[2] Kurvenverfolgung",
        "[3] Corner detection": "[3] Eckenerkennung",
        "[4] AI Depth (MiDaS)": "[4] KI-Tiefe (MiDaS)",
        "UTILITIES:": "DIENSTPROGRAMME:",
        "[V] Cartoon mode": "[V] Cartoon-Modus",
        "[D] Debug view": "[D] Debug-Ansicht",
        "[C] Clear points": "[C] Punkte löschen",
        "[O] 3D Viewer": "[O] 3D-Viewer",
        "[F] Process photos": "[F] Fotos verarbeiten",
        "[T] Toggle capture mode": "[T] Aufnahmemodus umschalten",
        "[S] Save cloud": "[S] Punktwolke speichern",
        "[M] Mesh method": "[M] Mesh-Methode",
        "[I] Toggle AI panel": "[I] KI-Panel umschalten",
        "[H] Hide terminal": "[H] Terminal ausblenden",
        "[[ / ]] Scroll terminal": "[[ / ]] Terminal scrollen",
        "[Q] Quit": "[Q] Beenden",
        "[+/-] Curve sampling": "[+/-] Kurvenabtastung",
        "[{/}] Corner count": "[{/}] Eckenanzahl",
        "[</>] Edge threshold": "[</>] Kantenschwelle",
        "Curve: 1/{}": "Kurve: 1/{}",
        "Corners: {}": "Ecken: {}",
        "Edges: {}/{}": "Kanten: {}/{}",
        "CURVE MODE:": "KURVENMODUS:",
        "Curves: {}": "Kurven: {}",
        "Curve pts: {}": "Kurvenpunkte: {}",
        "No curves detected": "Keine Kurven erkannt",
        "Camera Info": "Kamera-Info",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "Aufl: {}",
        "Focal: {}": "Brenn: {}",
        "Sharp: {:.2f}": "Schärfe: {:.2f}",
        "Bright: {:.2f}": "Helligkeit: {:.2f}",
        "Status: {}": "Status: {}",
        "Analyzing...": "Analysiere...",
        "Press 'i' to hide": "Drücke 'i' zum Ausblenden"
    },
    'zh': {  # Chinese Simplified
        "TERMINAL OUTPUT": "终端输出",
        "[Scrolled up {}]": "[向上滚动 {}]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: 滚动  [\\]: 底部",
        "({} more above)": "(上方还有 {} 条)",
        "SCANNER CONTROLS": "扫描仪控制",
        "[B] Hide": "[B] 隐藏",
        "Angle: {:.1f}deg": "角度: {:.1f}°",
        "Session: {}": "会话: {}",
        "Step: {:.1f}deg": "步长: {:.1f}°",
        "Points: {}": "点数: {}",
        "Mode: {}": "模式: {}",
        "ROTATION:": "旋转:",
        "[SPACE] Capture point(s)": "[空格] 捕获点",
        "[R] Rotate +{:.1f}deg": "[R] 旋转 +{:.1f}°",
        "[T] Set angle manually": "[T] 手动设置角度",
        "[E] Change step size": "[E] 更改步长",
        "MODES:": "模式:",
        "[1] Laser detection": "[1] 激光检测",
        "[2] Curve tracing": "[2] 曲线追踪",
        "[3] Corner detection": "[3] 角点检测",
        "[4] AI Depth (MiDaS)": "[4] AI深度 (MiDaS)",
        "UTILITIES:": "工具:",
        "[V] Cartoon mode": "[V] 卡通模式",
        "[D] Debug view": "[D] 调试视图",
        "[C] Clear points": "[C] 清除点",
        "[O] 3D Viewer": "[O] 3D查看器",
        "[F] Process photos": "[F] 处理照片",
        "[T] Toggle capture mode": "[T] 切换捕获模式",
        "[S] Save cloud": "[S] 保存点云",
        "[M] Mesh method": "[M] 网格方法",
        "[I] Toggle AI panel": "[I] 切换AI面板",
        "[H] Hide terminal": "[H] 隐藏终端",
        "[[ / ]] Scroll terminal": "[[ / ]] 滚动终端",
        "[Q] Quit": "[Q] 退出",
        "[+/-] Curve sampling": "[+/-] 曲线采样",
        "[{/}] Corner count": "[{/}] 角点计数",
        "[</>] Edge threshold": "[</>] 边缘阈值",
        "Curve: 1/{}": "曲线: 1/{}",
        "Corners: {}": "角点: {}",
        "Edges: {}/{}": "边缘: {}/{}",
        "CURVE MODE:": "曲线模式:",
        "Curves: {}": "曲线: {}",
        "Curve pts: {}": "曲线点: {}",
        "No curves detected": "未检测到曲线",
        "Camera Info": "相机信息",
        "FPS: {:.1f}": "帧率: {:.1f}",
        "Res: {}": "分辨率: {}",
        "Focal: {}": "焦距: {}",
        "Sharp: {:.2f}": "锐度: {:.2f}",
        "Bright: {:.2f}": "亮度: {:.2f}",
        "Status: {}": "状态: {}",
        "Analyzing...": "分析中...",
        "Press 'i' to hide": "按 'i' 隐藏"
    },
    'ja': {  # Japanese
        "TERMINAL OUTPUT": "ターミナル出力",
        "[Scrolled up {}]": "[{}上にスクロール]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: スクロール  [\\]: 最下部",
        "({} more above)": "(上に{}件)",
        "SCANNER CONTROLS": "スキャナー操作",
        "[B] Hide": "[B] 非表示",
        "Angle: {:.1f}deg": "角度: {:.1f}°",
        "Session: {}": "セッション: {}",
        "Step: {:.1f}deg": "ステップ: {:.1f}°",
        "Points: {}": "ポイント: {}",
        "Mode: {}": "モード: {}",
        "ROTATION:": "回転:",
        "[SPACE] Capture point(s)": "[スペース] ポイント取得",
        "[R] Rotate +{:.1f}deg": "[R] +{:.1f}°回転",
        "[T] Set angle manually": "[T] 角度を手動設定",
        "[E] Change step size": "[E] ステップサイズ変更",
        "MODES:": "モード:",
        "[1] Laser detection": "[1] レーザー検出",
        "[2] Curve tracing": "[2] 曲線トレース",
        "[3] Corner detection": "[3] コーナー検出",
        "[4] AI Depth (MiDaS)": "[4] AI深度 (MiDaS)",
        "UTILITIES:": "ユーティリティ:",
        "[V] Cartoon mode": "[V] カートゥーンモード",
        "[D] Debug view": "[D] デバッグビュー",
        "[C] Clear points": "[C] ポイントクリア",
        "[O] 3D Viewer": "[O] 3Dビューア",
        "[F] Process photos": "[F] 写真処理",
        "[T] Toggle capture mode": "[T] キャプチャモード切替",
        "[S] Save cloud": "[S] クラウド保存",
        "[M] Mesh method": "[M] メッシュ方法",
        "[I] Toggle AI panel": "[I] AIパネル切替",
        "[H] Hide terminal": "[H] ターミナル非表示",
        "[[ / ]] Scroll terminal": "[[ / ]] ターミナルスクロール",
        "[Q] Quit": "[Q] 終了",
        "[+/-] Curve sampling": "[+/-] 曲線サンプリング",
        "[{/}] Corner count": "[{/}] コーナー数",
        "[</>] Edge threshold": "[</>] エッジ閾値",
        "Curve: 1/{}": "曲線: 1/{}",
        "Corners: {}": "コーナー: {}",
        "Edges: {}/{}": "エッジ: {}/{}",
        "CURVE MODE:": "曲線モード:",
        "Curves: {}": "曲線: {}",
        "Curve pts: {}": "曲線点: {}",
        "No curves detected": "曲線が検出されませんでした",
        "Camera Info": "カメラ情報",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "解像度: {}",
        "Focal: {}": "焦点距離: {}",
        "Sharp: {:.2f}": "シャープネス: {:.2f}",
        "Bright: {:.2f}": "明るさ: {:.2f}",
        "Status: {}": "ステータス: {}",
        "Analyzing...": "分析中...",
        "Press 'i' to hide": "'i'を押して非表示"
    },
    'hi': {  # Hindi
        "TERMINAL OUTPUT": "टर्मिनल आउटपुट",
        "[Scrolled up {}]": "[{} ऊपर स्क्रॉल किया]",
        "[[ / ]]: Scroll  [\\]: Bottom": "[[ / ]]: स्क्रॉल  [\\]: नीचे",
        "({} more above)": "(ऊपर {} और)",
        "SCANNER CONTROLS": "स्कैनर नियंत्रण",
        "[B] Hide": "[B] छुपाएं",
        "Angle: {:.1f}deg": "कोण: {:.1f}°",
        "Session: {}": "सत्र: {}",
        "Step: {:.1f}deg": "चरण: {:.1f}°",
        "Points: {}": "बिंदु: {}",
        "Mode: {}": "मोड: {}",
        "ROTATION:": "घूर्णन:",
        "[SPACE] Capture point(s)": "[स्पेस] बिंदु कैप्चर करें",
        "[R] Rotate +{:.1f}deg": "[R] घुमाएं +{:.1f}°",
        "[T] Set angle manually": "[T] कोण मैन्युअल रूप से सेट करें",
        "[E] Change step size": "[E] चरण आकार बदलें",
        "MODES:": "मोड:",
        "[1] Laser detection": "[1] लेजर डिटेक्शन",
        "[2] Curve tracing": "[2] वक्र अनुरेखण",
        "[3] Corner detection": "[3] कोने की पहचान",
        "[4] AI Depth (MiDaS)": "[4] AI गहराई (MiDaS)",
        "UTILITIES:": "उपयोगिताएँ:",
        "[V] Cartoon mode": "[V] कार्टून मोड",
        "[D] Debug view": "[D] डीबग व्यू",
        "[C] Clear points": "[C] बिंदु साफ़ करें",
        "[O] 3D Viewer": "[O] 3D व्यूअर",
        "[F] Process photos": "[F] फ़ोटो प्रोसेस करें",
        "[T] Toggle capture mode": "[T] कैप्चर मोड टॉगल करें",
        "[S] Save cloud": "[S] क्लाउड सहेजें",
        "[M] Mesh method": "[M] मेश विधि",
        "[I] Toggle AI panel": "[I] AI पैनल टॉगल करें",
        "[H] Hide terminal": "[H] टर्मिनल छुपाएं",
        "[[ / ]] Scroll terminal": "[[ / ]] टर्मिनल स्क्रॉल करें",
        "[Q] Quit": "[Q] बाहर निकलें",
        "[+/-] Curve sampling": "[+/-] वक्र नमूनाकरण",
        "[{/}] Corner count": "[{/}] कोने की गिनती",
        "[</>] Edge threshold": "[</>] किनारे की सीमा",
        "Curve: 1/{}": "वक्र: 1/{}",
        "Corners: {}": "कोने: {}",
        "Edges: {}/{}": "किनारे: {}/{}",
        "CURVE MODE:": "वक्र मोड:",
        "Curves: {}": "वक्र: {}",
        "Curve pts: {}": "वक्र बिंदु: {}",
        "No curves detected": "कोई वक्र नहीं मिला",
        "Camera Info": "कैमरा जानकारी",
        "FPS: {:.1f}": "FPS: {:.1f}",
        "Res: {}": "रिज़ॉल्यूशन: {}",
        "Focal: {}": "फोकल: {}",
        "Sharp: {:.2f}": "शार्पनेस: {:.2f}",
        "Bright: {:.2f}": "चमक: {:.2f}",
        "Status: {}": "स्थिति: {}",
        "Analyzing...": "विश्लेषण कर रहे हैं...",
        "Press 'i' to hide": "छुपाने के लिए 'i' दबाएं"
    }
}

def update_po_file(lang_code, trans_dict):
    """Update a .po file with translations"""
    po_file = Path(__file__).parent / 'locales' / lang_code / 'LC_MESSAGES' / 'scanner.po'
    
    if not po_file.exists():
        print(f"❌ File not found: {po_file}")
        return
    
    with open(po_file, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # Replace empty msgstr with translations
    for en_text, trans_text in trans_dict.items():
        # Escape quotes and backslashes for PO format
        en_escaped = en_text.replace('\\', '\\\\').replace('"', '\\"')
        trans_escaped = trans_text.replace('\\', '\\\\').replace('"', '\\"')
        
        # Find and replace pattern
        pattern = f'msgid "{en_escaped}"\nmsgstr ""'
        replacement = f'msgid "{en_escaped}"\nmsgstr "{trans_escaped}"'
        content = content.replace(pattern, replacement)
    
    with open(po_file, 'w', encoding='utf-8') as f:
        f.write(content)
    
    print(f"✅ Updated {lang_code}/LC_MESSAGES/scanner.po")

if __name__ == "__main__":
    print("Adding translations to .po files...\n")
    
    for lang_code, trans_dict in translations.items():
        update_po_file(lang_code, trans_dict)
    
    print("\n✅ All translations added!")
    print("Run 'python extract_translations.py' to compile .mo files")
